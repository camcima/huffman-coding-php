<?php
require 'huffmancoding.php';

$strings= array ();
$strings[] = '31221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
31221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t656354256542345645456253643466756547685940685498654766587632313254123234131343414
31221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t65635425654234564545625364346675654768594068549865476658763231325412323413134341431221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t65635425654234564545625364346675654768594068549865476658763231325412323413134341431221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t656354256542345645456253643466756547685940685498654766587632313254123234131343414
31221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t656354256542345645456253643466756547685940685498654766587632313254123234131343414
12346542346565434566436545665344562r1t3we2t65635425654234564545625364346675654768594068549865476658763231325412323413134341431221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t65635425654234564545625364346675654768594068549865476658763231325412323413134341431221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t656354256542345645456253643466756547685940685498654766587632313254123234131343414
31221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t656354256542345645456253643466756547685940685498654766587632313254123234131343414
31221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t65635425654234564545625364346675654768594068549865476658763231325412323413134341431221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t65635425654234564545625364346675654768594068549865476658763231325412323413134341431221346514522314656544323265165434163324625134556774656587652165296384574236452123345223767985674435672123495823745
12346542346565434566436545665344562r1t3we2t656354256542345645456253643466756547685940685498654766587632313254123234131343414';
$strings[] = 'this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree 
this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree 
this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree 
this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree 
this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree 
this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree 
this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree 
this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree 
this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree 
this is an example of a huffman tree this is an example of a huffman tree this is an example of a huffman tree';
$strings[] = 'Six months after Haiti’s earthquake, the situation is bleak. Of the 1.5 million people displaced, 28,000, so far, have been moved to safer transitional housing. The rest huddle in tents and pray that the next rains won’t wash their meager belongings away. Crime is resurgent and everyone is desperate for some sign of recovery.
The world’s leaders swore that this time would be different, that they would use this tragedy to help the Haitians build a viable economy and a functioning state. At a conference in March, they pledged $3.5 billion to finance a host of ambitious projects: new towns away from the congested capital, Port-au-Prince; new roads, hospitals, power plants, schools, forests, farms.
A new reconstruction agency, the Interim Haiti Recovery Commission, which is supposed to oversee that rebuilding, is hardly off the ground.
Part of the explanation for the slow progress, of course, is the sheer scale of the disaster. As Deborah Sontag wrote recently in The Times, experts say it would take a thousand trucks three to five years to clear away the wreckage, though fewer than 300 trucks are hauling now. The quake destroyed almost every ministry building and killed 17 percent of the federal work force.
Still, Haiti’s leaders have been very slow to make crucial decisions to get recovery on track. For weeks after the disaster, President René Préval was all but absent. Since then, he has made some critical decisions, particularly about holding elections this fall. He is now said to be heavily involved in planning new shelters for a few thousand displaced people who have been living on the doorstep of the National Palace. That is not enough.
Relief agencies say they have the money and plans in hand for sturdier housing, but can’t move until Mr. Préval articulates a clear strategy on where to build that housing and decides how land will be acquired, how private landowners will be compensated and tenant-landlord disputes settled.
Mr. Préval also needs to do a lot more to shake up the bureaucracy, which has fallen back on its somnolent ways. Relief organizations talk about rebuilding materials languishing for weeks in customs. Mr. Préval has all of the legal power he needs to break up bureaucratic obstacles, to force people to negotiate, to acquire land by eminent domain. He needs to take charge.
The Interim Haiti Recovery Commission also is moving slowly. Led by Prime Minister Jean-Max Bellerive and former President Bill Clinton — and modeled after the agency created after the 2004 South Asia tsunami — it is supposed to plan and carry out long-term rebuilding projects paid for with donors’ billions. It also is supposed to develop a system to ensure the billions pledged are spent in a rational, honest and transparent way.
The commission has a Web site, www.cirh.ht, where its projects can be viewed. At its first and so far only meeting, it approved more than $50 million for various projects, including building hurricane-resistant shelters. It has chosen an executive director whose name has yet to be announced. Commission officials say it is moving as quickly as its South Asian counterpart. But it needs to start showing measurable results soon, before donors — who have been predictably slow at anteing up on their pledges — turn their attention and money elsewhere.
The United States has been generous. It has already spent more than $1 billion on emergency aid and is now spending another $175 million on projects like cash-for-work programs, debris clearance, school construction and support for agriculture and police officers.
The White House also has a pending request before Congress for $1.6 billion in Haiti assistance. Congress needs to approve that money, and President Obama and his aides need to do all they can to get Mr. Préval and the interim commission moving more aggressively.
Haitians have been extraordinarily patient. But their suffering is real, and they need to see progress. The world needs to see that progress is possible. If not, all of the big dreams for Haiti could evaporate. ';

foreach ($strings as $index => $string)
{
	echo "\nEncoding string number " . ($index + 1) . ":\n";
	$encoding = HuffmanCoding::createCodeTree ($string);
	$encoded = HuffmanCoding::encode ($string, $encoding);
	$decoded = HuffmanCoding::decode ($encoded);
	assert ($decoded == $string);

	echo "\tOriginal Length: " . strlen ($string) . "\n";
	echo "\tEncoded Length: " . strlen ($encoded) . "\n";
	echo "\tCompression: " . number_format (((strlen ($string) - strlen ($encoded)) / strlen ($string)) * 100, 2) . "%\n\n";
}

